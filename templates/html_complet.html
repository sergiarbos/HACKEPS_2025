<!DOCTYPE html>
<html lang="ca">
{% load static %}
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Formulari ‚Äî GOT</title>

    <!-- Bootstrap -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- Tipografia -->
    <link href="https://fonts.googleapis.com/css2?family=Marcellus&display=swap" rel="stylesheet">

    <style>
        body {
            margin: 0;
            padding: 0 0 90px 0; /* espai per al men√∫ inferior */
            font-size: 110%;
            text-align: center;
            font-family: 'Marcellus', serif;
            color: white;
            text-shadow: 1px 1px 3px black;
            background-size: cover;
            background-position: center;
            background-repeat: no-repeat;
        }

        /* FONS PER CADA BLOC (CASA) */
        body.bloc1 { background-image: url("{% static 'baratheon.png' %}"); }
        body.bloc2 { background-image: url("{% static 'lannister.png' %}"); }
        body.bloc3 { background-image: url("{% static 'targaryen.png' %}"); }
        body.bloc4 { background-image: url("{% static 'stark.png' %}"); }

        /* üè† ICONA HOME */
        .home-btn {
            position: fixed;
            top: 15px;
            left: 15px;
            z-index: 1000;
        }

        .home-btn img {
            width: 45px;
            height: auto;
            cursor: pointer;
            transition: transform 0.2s;
            filter: invert(100%);
        }

        .home-btn img:hover {
            transform: scale(1.1);
        }

        h1 {
            font-size: 200%;
            margin-top: 60px;
            margin-bottom: 10px;
            text-transform: uppercase;
        }

        h2.subtitol {
            font-size: 150%;
            margin-bottom: 10px;
            padding-bottom: 3px;
            border-bottom: 2px solid rgba(255,255,255,0.8);
            display: inline-block;
        }

        h3 {
            margin-top: 15px;
            margin-bottom: 8px;
            font-size: 115%;
        }

        select {
            background-color: rgba(255,255,255,0.9);
            color: black;
        }

        .screen {
            display: none;
        }

        /* MEN√ö INFERIOR */
        .menu-inferior {
            position: fixed;
            bottom: 0;
            left: 0;
            width: 100%;
            background: #dce3e8;
            display: flex;
            justify-content: space-around;
            border-top: 2px solid #c3ccd3;
            z-index: 999;
        }

        .menu-inferior a {
            flex: 1;
            text-align: center;
            padding: 12px 0;
            text-decoration: none;
            font-weight: 600;
            font-size: 16px;
            color: black;
            border-right: 1px solid #c3ccd3;
        }

        .menu-inferior a:last-child {
            border-right: none;
        }

        /* COLORS DEL BLOC ACTIU */
        body.bloc1 .menu-inferior a[data-bloc="1"],
        body.bloc2 .menu-inferior a[data-bloc="2"],
        body.bloc3 .menu-inferior a[data-bloc="3"],
        body.bloc4 .menu-inferior a[data-bloc="4"] {
            background-color: #d3a007;
            color: white;
            text-shadow: 1px 1px 2px black;
        }

        /* COLORS DELS T√çTOLS */
        body.bloc1 h2.subtitol { border-color: #ffdd55; color: #ffdd55; }
        body.bloc2 h2.subtitol { border-color: #ffd700; color: #ffd700; }
        body.bloc3 h2.subtitol { border-color: #ff4b4b; color: #ff4b4b; }
        body.bloc4 h2.subtitol { border-color: #bfc7ce; color: #ffffff; }
    </style>
</head>

<body class="bloc1">

    <!-- üè† HOME -->
    <a href="{% url 'home' %}" class="home-btn">
        <img src="{% static 'home.png' %}" alt="Home">
    </a>

    <h1>Formulari de usuari</h1>

    <!-- FORMULARI √öNIC QUE ENVIA TOTS ELS BLOCS -->
    <form action="{% url 'resultat' %}" method="POST">
        {% csrf_token %}

        <!-- üîπ BLOC 1 ‚Äî DEMOGRAFIA -->
        <section class="screen" data-bloc="1">
            <h2 class="subtitol">Bloc 1 ‚Äî Demografia</h2>

            <h3>Renda mitjana</h3>
            <select name="renda_mediana" class="form-select form-select-sm mb-2" style="max-width: 260px; margin:auto;">
                <option disabled selected>Selecciona una opci√≥</option>
                <option value="baixa">Baixa</option>
                <option value="mitjana">Mitjana</option>
                <option value="alta">Alta</option>
            </select>

            <h3>Densitat de poblaci√≥</h3>
            <select name="densitat_poblacio" class="form-select form-select-sm mb-2" style="max-width: 260px; margin:auto;">
                <option disabled selected>Selecciona una opci√≥</option>
                <option value="baixa">Baixa</option>
                <option value="mitjana">Mitjana</option>
                <option value="alta">Alta</option>
            </select>

            <h3>Edat mitjana</h3>
            <select name="edat_mediana" class="form-select form-select-sm mb-2" style="max-width: 260px; margin:auto;">
                <option disabled selected>Selecciona una opci√≥</option>
                <option value="jove">Jove</option>
                <option value="mitjana">Mitjana</option>
                <option value="envellida">Envellida</option>
            </select>
        </section>

        <!-- üîπ BLOC 2 ‚Äî ESTIL DE VIDA -->
        <section class="screen" data-bloc="2">
            <h2 class="subtitol">Bloc 2 ‚Äî Estil de vida</h2>

            <h3>Oferta gastron√≤mica</h3>
            <select name="oferta_gastronomica" class="form-select form-select-lg mb-3" style="max-width: 300px; margin:auto;">
                <option disabled selected>Selecciona una opci√≥</option>
                <option value="escassa">Escassa</option>
                <option value="moderada">Moderada</option>
                <option value="molt_alta">Molt alta</option>
            </select>

            <h3>Zones verdes</h3>
            <select name="zones_verdes" class="form-select form-select-lg mb-3" style="max-width: 300px; margin:auto;">
                <option disabled selected>Selecciona una opci√≥</option>
                <option value="poques">Poques</option>
                <option value="algunes">Algunes</option>
                <option value="moltes">Moltes</option>
            </select>

            <h3>Oferta cultural</h3>
            <select name="oferta_cultural" class="form-select form-select-lg mb-3" style="max-width: 300px; margin:auto;">
                <option disabled selected>Selecciona una opci√≥</option>
                <option value="baixa">Baixa</option>
                <option value="mitjana">Mitjana</option>
                <option value="alta">Alta</option>
            </select>

            <h3>Sensibilitat al soroll</h3>
            <select name="soroll_sensibilitat" class="form-select form-select-lg mb-3" style="max-width: 300px; margin:auto;">
                <option disabled selected>Selecciona una opci√≥</option>
                <option value="indiferent">Indiferent</option>
                <option value="moderat">Moderat</option>
                <option value="molt_sensible">Molt sensible</option>
            </select>
        </section>

        <!-- üîπ BLOC 3 ‚Äî MOBILITAT -->
        <section class="screen" data-bloc="3">
            <h2 class="subtitol">Bloc 3 ‚Äî Mobilitat</h2>

            <h3>Acc√©s al transport p√∫blic</h3>
            <select name="transport_public" class="form-select form-select-sm mb-2" style="max-width: 260px; margin:auto;">
                <option disabled selected>Selecciona una opci√≥</option>
                <option value="baix">Baix</option>
                <option value="bo">Bo</option>
                <option value="excel¬∑lent">Excel¬∑lent</option>
            </select>

            <h3>Disponibilitat bus/metro</h3>
            <select name="metro_bus" class="form-select form-select-sm mb-2" style="max-width: 260px; margin:auto;">
                <option disabled selected>Selecciona una opci√≥</option>
                <option value="limitada">Limitada</option>
                <option value="correcta">Correcta</option>
                <option value="molt_abundant">Molt abundant</option>
            </select>

            <h3>Carrils bici</h3>
            <select name="carrils_bici" class="form-select form-select-sm mb-2" style="max-width: 260px; margin:auto;">
                <option disabled selected>Selecciona una opci√≥</option>
                <option value="inexistent">Inexistent</option>
                <option value="basic">B√†sic</option>
                <option value="extens">Extens</option>
            </select>

            <h3>Caminabilitat</h3>
            <select name="caminabilitat" class="form-select form-select-sm mb-2" style="max-width: 260px; margin:auto;">
                <option disabled selected>Selecciona una opci√≥</option>
                <option value="baixa">Baixa</option>
                <option value="mitjana">Mitjana</option>
                <option value="alta">Alta</option>
            </select>
        </section>

        <!-- üîπ BLOC 4 ‚Äî PERFIL -->
        <section class="screen" data-bloc="4">
            <h2 class="subtitol">Bloc 4 ‚Äî Perfil de l‚Äôusuari</h2>

            <h3>Nivell de seguretat requerit</h3>
            <select name="seguretat_requerida" class="form-select form-select-sm mb-2" style="max-width: 260px; margin:auto;">
                <option disabled selected>Selecciona una opci√≥</option>
                <option value="estandard">Est√†ndard</option>
                <option value="alta">Alta</option>
                <option value="molt_alta">Molt alta</option>
            </select>

            <h3>Prioritat principal</h3>
            <select name="prioritat" class="form-select form-select-sm mb-2" style="max-width: 260px; margin:auto;">
                <option disabled selected>Selecciona una opci√≥</option>
                <option value="comunitat">Comunitat</option>
                <option value="privacitat_luxe">Privacitat i luxe</option>
                <option value="accessibilitat">Accessibilitat</option>
                <option value="cultura">Cultura i gastronomia</option>
            </select>

            <div class="contenedor-boton">
                <button type="submit" class="btn btn-success btn-lg fw-bold">
                    TROBA ZONA
                </button>
            </div>
        </section>

    </form>

    <!-- MEN√ö INFERIOR -->
    <nav class="menu-inferior">
        <a href="#" data-bloc="1">Bloc 1</a>
        <a href="#" data-bloc="2">Bloc 2</a>
        <a href="#" data-bloc="3">Bloc 3</a>
        <a href="#" data-bloc="4">Bloc 4</a>
    </nav>

    <!-- JS CANVI DE BLOCS -->
    <script>
        document.addEventListener('DOMContentLoaded', function () {
            const body = document.body;
            const screens = document.querySelectorAll('.screen');
            const menuLinks = document.querySelectorAll('.menu-inferior a');

            function activateBloc(num) {
                body.classList.remove('bloc1', 'bloc2', 'bloc3', 'bloc4');
                body.classList.add('bloc' + num);

                screens.forEach(sec => {
                    sec.style.display = (sec.dataset.bloc === String(num)) ? 'block' : 'none';
                });
            }

            menuLinks.forEach(link => {
                link.addEventListener('click', function (e) {
                    e.preventDefault();
                    activateBloc(this.dataset.bloc);
                });
            });

            activateBloc(1);
        });
    </script>

</body>
</html>
